app_root: frontend
buildpacks:
  nodejs:
    version: "20.x"
    npm_version: "10.x"
  nodejs_install:
    script: "cd frontend && npm ci --legacy-peer-deps"
  nodejs_build:
    script: "cd frontend && CI=false npm run build"
env:
  - variable: FIREBASE_CONFIG
    value: '{"databaseURL":"","projectId":"ai-content-creator-f7d53","storageBucket":"ai-content-creator-f7d53.firebasestorage.app"}'
    availability:
      - BUILD
      - RUNTIME
  - variable: FIREBASE_WEBAPP_CONFIG
    value: '{"apiKey":"AIzaSyCT0BFTRljnsrbcT1SxwsWEEyrgca952cg","appId":"1:1050991356651:web:47b42676c06e732b6eecae","authDomain":"ai-content-creator-f7d53.firebaseapp.com","databaseURL":"","messagingSenderId":"1050991356651","projectId":"ai-content-creator-f7d53","storageBucket":"ai-content-creator-f7d53.firebasestorage.app"}'
    availability:
      - BUILD
  - variable: CI
    value: 'false'
    availability:
      - BUILD
  - variable: SKIP_PREFLIGHT_CHECK
    value: 'true'
    availability:
      - BUILD
  - variable: PUBLIC_URL
    value: '.'
    availability:
      - BUILD